\listfiles
\PassOptionsToPackage{check=none}{widows-and-orphans}
\documentclass[english,ngerman,final]{tudscrmanual}
%\documentclass[english,ngerman]{tudscrmanual}
\GitHubBase{\TUDScriptRepository}

\tracinglabels<created,matched>[all]
%\tracinglabels[all]
%\tracingmarkup

\iftutex
  \usepackage{fontspec}
\else
  \usepackage[T1]{fontenc}
  \usepackage[ngerman=ngerman-x-latest]{hyphsubst}
\fi
\usepackage{babel}

\lstset{%
  inputencoding=utf8,extendedchars=true,
  literate=%
    {ä}{{\"a}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
    {Ä}{{\"A}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
    {ß}{{\ss}}1 {~}{{\textasciitilde}}1
    {»}{{\guillemetright}}1 {«}{{\guillemetleft}}1
}
\usepackage{widows-and-orphans}
\usepackage{bookmark}
\KOMAoptions{headings=optiontoheadandtoc}

% Prüfen der Version von geometry, um bei einer Änderung zu reagieren
\IfPackageAtLeastTF{geometry}{2020/01/03}{%
  \ClassWarning{tudscrmanual}{%
    Package `geometry' was updated so some patches\MessageBreak%
    are maybe outdated%
  }%
}{}


\newrobustcmd*\cdurl{%
  \begingroup%
    \hypersetup{hidelinks}%
    \href{https://tu-dresden.de/cd}{https://tu-dresden.de/cd}%
  \endgroup%
}
\newcommand*\notudscrartcl[1]{%
  F\"ur die Klassen \Class{tudscrartcl} sowie \Class{tudscrposter} %
  ist #1 nicht verf\"ugbar.%
}

\begin{document}
\faculty{\cdurl}
\subject{\TUDScript \vTUDScript{} basierend auf \KOMAScript}

\title{Ein \Logo{LaTeX}-Bundle für Dokumente im \TUDCD}
\subtitle{%
  Benutzerhandbuch\thanks{%
    \ifdef\tudprintflag%
      {\href{tudscr}{Online-Version}}%
      {\href{tudscr_print}{Druckversion}}%
  }%
}
\author{Falk Hanisch\TUDScriptContactTitle}
\publishers{\url{\TUDScriptRepository}}
\date{2021-01-05}

\makeatletter
\begingroup%
  \def\and{, }%
  \let\thanks\@gobble%
  \let\footnote\@gobble%
  \let\emailaddress\@gobble%
  \hypersetup{%
    pdfauthor   = {\@author},%
    pdftitle    = {\@title},%
    pdfsubject  = {\@subtitle},%
    pdfkeywords = {LaTeX, \TUDScript, Benutzerhandbuch},%
  }%
\endgroup%
\tud@newdim\tudscrdim
\makeatother


\maketitle


\include{tudscr-preface}
\tableofcontents
\include{tudscr-introduction}



\setpartpreamble{%
  \begin{abstract}
    \noindent Dies ist der Hauptteil der Dokumentation des \TUDScript-Bundles. 
    Hier findet der Anwender alle verfügbaren Optionen, Umgebungen und 
    Befehle, die über die Funktionalität von \KOMAScript hinausgehen.
  \end{abstract}
}
\part[%
  Das \TUDScript-Bundle%
]{%
  Das \TUDScript-Bundle%
  \tudmarkuplabel[part:main]{\Bundle{tudscr}}%
  \ChangedAt*{%
    v2.06:\OpenSans als neue Schrift im \TUDCD, Pakete \Package{opensans}, 
    \Package{iwona} und \Package{mathastext} zwingend erforderlich;%
    v2.06:\texttt{Roboto~Mono} als Schreibmaschinenschrift verwendbar%
  }%
}
\begin{Entity}{\Bundle{tudscr}}
\include{tudscr-mainclasses}
\include{tudscr-poster}
\include{tudscr-supervisor}
\include{tudscr-bundle}
\end{Entity}



\setpartpreamble{%
  \begin{abstract}
    \hypersetup{linkcolor=red}
    \noindent Für die Verwendung des \TUDScript-Bundles ist es nicht notwendig,
    diesen Teil zu lesen. In \autoref{sec:exmpl} werden insbesondere für 
    \Logo{LaTeX}"=Neulinge sowie neue Anwender des \TUDScript-Bundles 
    mehrere einfache Beispiele gezeigt. Zusätzlich sind in \autoref{sec:tut} 
    umfangreichere Tutorials für das Erstellen von wissenschaftlichen Arbeiten 
    zu finden. Die darin gegebenen Empfehlungen sind nicht auf \TUDScript 
    beschränkt sondern lassen sich auch mit anderen \Logo{LaTeX}"~Klassen 
    umsetzen. In \autoref{sec:packages} werden Einsteigern~-- und versierten 
    \Logo{LaTeX}-Nutzern~-- meiner Meinung nach empfehlenswerte Pakete kurz 
    vorgestellt.
    
    Anwendungshinweise sowie der eine oder andere allgemeine Hinweis bei der 
    Verwendung von \Logo{LaTeX} wird in \autoref{sec:tips} gegeben. Dabei 
    sind diese durchaus für die Verwendung sowohl des \TUDScript-Bundles als 
    auch anderer \Logo{LaTeX}-Klassen interessant. Für Anregungen, Hinweise, 
    Ratschläge oder Empfehlungen zu weiteren Pakete sowie Tipps bin ich 
    jederzeit empfänglich.
  \end{abstract}
}
\part{Ergänzungen und Hinweise\label{part:additional}}
\include{tudscr-examples}
\include{tudscr-packages}
\include{tudscr-tips}



\part{Anhang\label{part:appendix}}
\appendix
\include{tudscr-changes}
\include{tudscr-compatibility}
\include{tudscr-installation}
\include{tudscr-index}



\clearpage

\ToDo[imp]{restricted write in tudscrmanual, wofür ist shell-escape nötig?}
\ToDo[doc]{http(?!s) ersetzen, wo möglich}[v2.07]
\ToDo[doc]{Verwendung von \detokenize{-\w} in .tex suchen und prüfen}[v2.07]
\ToDo[imp,doc]{\Macro*{if...} auf \Macro*{If...} umstellen?}[v2.07]
% \ifxblank \ifstrbool \ifdin \ifdisposition \ifisgreeksymbol
% \iflanguageloaded (noch sinnvoll?) 
\ToDo[imp,doc]{Paket \Package{filecontents} obsolet, treatise}[v2.07]
\ToDo[doc]{Link für \Package{flafter} zu \Logo{LaTeX}-Bundle}[v2.07]
\ToDo[doc]{Hinweis auf \url{https://www.learnlatex.org/}}[v2.07]
\ToDo[imp]{Alle Datumsangaben auf YYYY-MM-DD umstellen}[v2.07]

\ToDo[imp,doc]{%
  Benutzerdefinierte Anpassungen von \TUDScript, Kapitelstile, Farbeinsatz etc.%
}[v2.08]
\ToDo[imp]{%
  Spezialseite zur freien Gestaltung mit Hintergrundebene für Bilder und Texte 
  (CD-Handbuch S. 80 ff.); Seitenstil: \PageStyle*{special.tudheadings}
}[v2.08]
\ToDo[doc,imp]{%
  Rückseite bei Kapitelseiten (auch bei Teilen?) im doppelseitigen Satz per 
  Option nicht als Vakatseite setzen. Implementierung von farbigen Seiten 
  davor (\Option*{open=right}) sowie danach (\Option*{open=left}). Setzen von 
  speziellen Inhalten auf diesen Seiten äquivalent zu \Macro*{setpartpreamble} 
  bzw. \Macro*{setchapterpreamble}; ggf. temporär umschalten bzw. Warnung bei 
  Konflikt. \Forum<396>
}[v2.08]

\ToDo[imp]{LyX: layout-Dateien in das Projekt integrieren lassen?}[v2.08]
\ToDo[imp]{TeXstudio: cwl-Dateien über docstrip, separate .ins-Datei}[v2.08]
\ToDo[imp,rls]{TeXstudio: alle *.cwl erneuern, automatisch über *.dtx}[v2.08]
\ToDo[imp]{\Package*{glossaries}: Paket für Stile aus Tutorial}[v2.08]

\ToDo[rls]{GitHub auf offene Issues prüfen}
\ToDo[rls]{\emph{alle} dtx-Dateien der vorherigen Version mit WinMerge sichten}
\ToDo[rls]{Datumsangaben \emph{aller} dtx-Dateien prüfen}%: ^((?!%).)*\d{4}(/|-)
\ToDo[rls]{Layout und Umbrüche kontrollieren, \Package*{widows-and-orphans}}
\ToDo[rls]{Datum in tudscr-version.dtx, tudscr-comp.dtx, Handbuch \& README}
\ToDo[rls]{Release auf GitHub und CTAN, Tag für Homepage und \Forum<303> ändern}

\ListOfToDo
\end{document}
