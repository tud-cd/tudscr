\ifx\documentclass\undefined
  \input docstrip.tex
  \ifToplevel{\batchinput{tudscr.ins}}
\else
  \let\endbatchfile\relax
\fi
\endbatchfile

\RequirePackage{tudscr-gitinfo}
\documentclass[english,ngerman,xindy]{tudscrdoc}
\iftutex
  \usepackage{fontspec}
\else
  \usepackage[T1]{fontenc}
  \input glyphtounicode
  \pdfgentounicode=1
  \usepackage[ngerman=ngerman-x-latest]{hyphsubst}
\fi
\usepackage{babel}
\usepackage{tudscrfonts}
\usepackage{bookmark}
\usepackage[babel]{microtype}

\GitHubBase{\TUDScriptRepository}
\renewcommand*\FormatRevision[1]{\texttt{\GitHubRepo'[#1]<commit/#1>}}

\begin{document}
\addtokomafont{subject}{\sffamily}
\subject{\TUDScript basierend auf \KOMAScript}
\title{Ein \LaTeX-Bundle für Dokumente \mbox{im \CD der} \mbox{\TnUD}}
\subtitle{Quelltextdokumentation}
\date{\TUDScriptVersion}

\makeatletter
\begingroup%
  \def\and{, }%
  \let\thanks\@gobble%
  \let\footnote\@gobble%
  \let\mailto\@gobble%
  \let\qquad\relax%
  \hypersetup{%
    pdfauthor   = {\@author},%
    pdftitle    = {\@title},%
    pdfsubject  = {\@subtitle},%
    pdfkeywords = {LaTeX, \TUDScript, Quelltext},%
  }%
\endgroup%
\let\@maketitle\scr@maketitle%
\makeatother


\maketitle


Das \TUDScript-Bundle setzt das \TUDCD für \LaTeX{} um. Die enthaltenen 
Klassen und Pakete basieren auf dem \KOMAScript-Bundle und sind sehr eng mit 
diesen verwoben. Momentan ergänzen sie das Vorlagenbundle von Klaus~Bergmann, 
das auf den \LaTeX"=Standardklassen basiert und als veraltet betrachtet werden 
kann. Die dazugehörigen Klassen sollen mittel- bis langfristig ersetzt werden.%
\footnote{%
  aktuell ist dies \cls{tudbook}, geplant \cls{tudfax}, \cls{tudletter}, 
  \cls{tudform}, \cls{tudhaus} und evtl. auch \cls{tudbeamer}%
}
Es handelt sich bei diesem Dokument \emph{nicht} um das Anwenderhandbuch
sondern um den dokumentierten Quelltext der Implementierung von \TUDScript.
Das Anwenderhandbuch kann über die Kommandozeile respektive das Terminal mit 
dem Aufruf \texttt{texdoc tudscr} geöffnet werden.

\tableofcontents
\ToDo{\detokenize{tudscr.ins etc. an neue docstrip-Version anpassen}[v2.07]
\ToDo{\detokenize{\\ifx.*\\@empty} prüfen, ob test mit ifblank bessser}[v2.07]
\ToDo{Paket \pkg{letltxmacro} durch NewCommandCopy aus Kernel ersetzen}[v2.07]
\ToDo{Paket \pkg{environ} durch NewDocumentEnvironment Kernel ersetzen}[v2.07]
\ToDo{Paket \pkg{datetime2} gegenüber \pkg{isodate} bevorzugen?}[v2.07]
\ToDo{Paket \pkg{mweights} raus, DeclareFontSeriesDefault nutzen}[v2.07]
\ToDo{\cs{IfPackageAtLeastTF} anstelle von \cs{@ifpackagelater}}[v2.07]
\ToDo{Paket \pkg{kvsetkeys} durch \pkg{scrbase} ersetzen}[v2.07]
\ToDo{\cs{Ifnumber} mit \cs{Ifisinteger} ersetzen?!}[v2.07]
\ToDo{CheckSum und CharacterTable entfernen}[v2.07]
\ToDo{restricted write ermöglichen, wofür ist shell-escape nötig}[v2.07]
\ToDo{ähnlich zu tudscrmanual mdfive test}[v2.07]
\ToDo{Release-Prozess mit \app{make} und \file{Makefile}}[v2.08]
\clearpage


\DocInclude{tudscr-version}
\DocInclude{tudscr-base}
\DocInclude{tudscr-fonts}
\DocInclude{tudscr-fields}
\DocInclude{tudscr-localization}
\DocInclude{tudscr-area}
\DocInclude{tudscr-pagestyle}
\DocInclude{tudscr-layout}
\DocInclude{tudscr-title}
\DocInclude{tudscr-frontmatter}
\DocInclude{tudscr-comp}
\DocInclude{tudscr-misc}
\DocInclude{tudscr-color}
\DocInclude{tudscr-supervisor}

\DocInclude{tudscr-twocolfix}
\DocInclude{tudscr-mathswap}

\ifdefined\tudfinalflag\else
\DocInclude{tudscr-manual}
\DocInclude{tudscr-doc}
\DocInclude{tudscr-gitinfo}
\DocInclude{tudscr-texindy}
\DocInclude{install/tudscr-metrics}
\DocInclude{install/tudscr-scripts}
\fi

\addpart{\appendixname}
\vspace*{-2\baselineskip}
\PrintIndex
\clearpage
\PrintChanges
\clearpage
\PrintToDos
\clearpage
\end{document}
